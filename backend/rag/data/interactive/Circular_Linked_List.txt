### DOCUMENT_TYPE: INTERACTIVE
### TOPIC: Linked List
### NAME: Circular Linked List
### DESCRIPTION: Circular Linked List Visualizer

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circular Linked List Visualizer</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', sans-serif; background: #fff1f2; padding: 20px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .controls { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 50px; display: flex; gap: 10px; }
        input { padding: 10px; border: 1px solid #ddd; border-radius: 6px; }
        button { padding: 10px 20px; background: #e11d48; color: white; border: none; border-radius: 6px; cursor: pointer; }
        .circle-container { position: relative; width: 400px; height: 400px; margin-top: 20px; }
        .node { position: absolute; width: 80px; height: 80px; background: radial-gradient(circle at 30% 30%, #fb7185, #e11d48); border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; box-shadow: 0 5px 15px rgba(225, 29, 72, 0.4); transition: all 0.5s ease; border: 2px solid white; }
        .connection { position: absolute; height: 2px; background: #e11d48; transform-origin: 0% 50%; z-index: -1; }
        .connection::after { content: 'â–º'; position: absolute; right: -5px; top: -7px; color: #e11d48; font-size: 14px; }
        .empty-msg { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #999; }
    </style>
</head>
<body>
    <h1>Circular Linked List</h1>
    <div class="controls">
        <input type="text" id="val" placeholder="Value">
        <button onclick="insert()">Insert</button>
        <button onclick="remove()">Delete Front</button>
    </div>
    <div class="circle-container" id="container"></div>

    <script>
        let nodes = [];
        
        function render() {
            const container = document.getElementById('container');
            container.innerHTML = '';
            if (nodes.length === 0) {
                container.innerHTML = '<div class="empty-msg">List is Empty</div>';
                return;
            }
            
            const radius = 150;
            const cx = 200, cy = 200;
            const angleStep = (2 * Math.PI) / nodes.length;
            
            // Draw connections first
            nodes.forEach((_, i) => {
                const angle = i * angleStep - Math.PI/2;
                const nextAngle = ((i + 1) % nodes.length) * angleStep - Math.PI/2;
                
                const x1 = cx + Math.cos(angle) * (radius - 40); // inner radius
                const y1 = cy + Math.sin(angle) * (radius - 40);
                const x2 = cx + Math.cos(nextAngle) * (radius - 40);
                const y2 = cy + Math.sin(nextAngle) * (radius - 40);
                
                // Simplified SVG or standard div line logic would go here. 
                // For this pure CSS circle demo, we'll just position arrows roughly or skip exact lines.
                // Let's use SVG for lines for better circular visual.
            });

            // Re-doing container to use SVG for lines
            let svgHtml = `<svg width="100%" height="100%" style="position:absolute; top:0; left:0; z-index:0;">`;
            
            nodes.forEach((n, i) => {
                const angle = i * angleStep - Math.PI/2; // Start from top
                const nextAngle = ((i + 1) % nodes.length) * angleStep - Math.PI/2;
                
                const x1 = cx + Math.cos(angle) * radius;
                const y1 = cy + Math.sin(angle) * radius;
                const x2 = cx + Math.cos(nextAngle) * radius;
                const y2 = cy + Math.sin(nextAngle) * radius;
                
                // Draw arrow path
                // Using quadratic curve for smoother connection? Straight lines are fine for polygon shape
                svgHtml += `<line x1="${x1}" y1="${y1}" x2="${x2}" y2="${y2}" stroke="#e11d48" stroke-width="2" marker-end="url(#head)" />`;
            });
            
            svgHtml += `<defs><marker id="head" orient="auto" markerWidth="6" markerHeight="6" refX="25" refY="3"><path d="M0,0 V6 L6,3 Z" fill="#e11d48"/></marker></defs></svg>`;
            container.innerHTML += svgHtml;

            // Draw nodes
            nodes.forEach((n, i) => {
                const angle = i * angleStep - Math.PI/2;
                const x = cx + Math.cos(angle) * radius - 40; // center offset
                const y = cy + Math.sin(angle) * radius - 40;
                
                const div = document.createElement('div');
                div.className = 'node';
                div.textContent = n;
                div.style.left = x + 'px';
                div.style.top = y + 'px';
                container.appendChild(div);
            });
        }

        function insert() {
            const val = document.getElementById('val').value.trim();
            if (!val) return;
            nodes.push(val);
            document.getElementById('val').value = '';
            render();
        }

        function remove() {
            if (nodes.length > 0) nodes.shift();
            render();
        }
        
        render();
    </script>
</body>
</html>
