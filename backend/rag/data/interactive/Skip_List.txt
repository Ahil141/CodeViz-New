### DOCUMENT_TYPE: INTERACTIVE
### TOPIC: Linked List
### NAME: Skip List
### DESCRIPTION: Skip List Visualizer

<!DOCTYPE html>
<html>
<head>
    <title>Skip List Logic</title>
    <style>
        body { padding: 20px; font-family: sans-serif; }
        .level { display: flex; align-items: center; margin-bottom: 20px; position: relative; }
        .level-label { width: 60px; font-weight: bold; }
        .node { 
            width: 50px; height: 50px; border: 2px solid #333; 
            margin-right: 20px; display: flex; align-items: center; 
            justify-content: center; background: white; z-index: 2;
        }
        .line { position: absolute; height: 2px; background: #999; z-index: 1; width: 100%; top: 25px; }
        .col-lines { position:absolute; border-left: 2px dashed #ddd; }
    </style>
</head>
<body>
    <h1>Skip List</h1>
    <div style="margin-bottom:20px;">
        <input id="val" type="number" placeholder="Number">
        <button onclick="insert()">Insert</button>
        <button onclick="reset()">Clear</button>
    </div>
    <div id="container"></div>
    <script>
        let head = { val: -Infinity, next: [], bottom: null }; 
        // Logic simplified: We'll just visualize a static-like structure for demo
        // Implementing full probabilistic skip list in vanilla JS for visualization is complex,
        // we will simulate levels.
        
        let values = [];

        function render() {
            // Sort values
            const sorted = [...values].sort((a,b)=>a-b);
            const container = document.getElementById('container');
            container.innerHTML = '';
            
            // Generate random levels for each value
            // (Deterministic for visual stability in this demo)
            const levels = sorted.map(v => {
                let l = 1;
                while(Math.random() > 0.5 && l < 4) l++;
                return { v, l };
            });
            
            const maxLvl = levels.length ? Math.max(...levels.map(x=>x.l)) : 1;
            
            for(let i = maxLvl; i >= 1; i--) {
                const lvlDiv = document.createElement('div');
                lvlDiv.className = 'level';
                lvlDiv.innerHTML = `<div class="level-label">L${i}</div><div class="line"></div>`;
                
                // Head
                lvlDiv.innerHTML += `<div class="node" style="background:#eee;">HEAD</div>`;
                
                // Items that exist at this level
                levels.forEach(item => {
                    if(item.l >= i) {
                        lvlDiv.innerHTML += `<div class="node">${item.v}</div>`;
                    } else {
                        // Spacer
                        lvlDiv.innerHTML += `<div class="node" style="border:none; background:transparent;"></div>`;
                    }
                });
                
                // Tail
                lvlDiv.innerHTML += `<div class="node" style="background:#eee;">NIL</div>`;
                
                container.appendChild(lvlDiv);
            }
        }

        function insert() {
            const v = parseInt(document.getElementById('val').value);
            if(!isNaN(v) && !values.includes(v)) {
                values.push(v);
                render();
            }
            document.getElementById('val').value = '';
        }
        function reset() { values = []; render(); }
        render();
    </script>
</body>
</html>