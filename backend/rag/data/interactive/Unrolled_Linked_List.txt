### DOCUMENT_TYPE: INTERACTIVE
### TOPIC: Linked List
### NAME: Unrolled Linked List
### DESCRIPTION: Unrolled LL Visualizer

<!DOCTYPE html>
<html>
<head>
<title>Unrolled LL</title>
<style>
    body { font-family: monospace; padding: 20px; }
    .node { 
        border: 2px solid #000; padding: 10px; margin: 10px; 
        display: inline-block; vertical-align: top; width: 120px;
        background: #f0f0f0; border-radius: 5px;
    }
    .array-slot { border: 1px solid #aaa; padding: 5px; background: white; text-align: center; margin-bottom: 2px;}
    .next-ptr { margin-top: 5px; font-size: 12px; text-align: center; color: red; }
    .arrow { display: inline-block; padding: 30px 5px; vertical-align: top; color: blue; font-size: 20px; }
</style>
</head>
<body>
    <h1>Unrolled Linked List</h1>
    <p>Each node holds an array of up to 4 elements.</p>
    <div style="margin-bottom:10px;">
        <input id="val" placeholder="Value">
        <button onclick="add()">Add</button>
    </div>
    <div id="container"></div>
    <script>
        const capacity = 4;
        let nodes = [ [] ]; // Array of arrays

        function render() {
            const c = document.getElementById('container');
            c.innerHTML = '';
            
            nodes.forEach((nodeArr, idx) => {
                const div = document.createElement('div');
                div.className = 'node';
                
                // Render slots
                let html = '';
                for(let i=0; i<capacity; i++) {
                    const val = nodeArr[i] !== undefined ? nodeArr[i] : '-';
                    html += `<div class="array-slot">${val}</div>`;
                }
                html += `<div class="next-ptr">Next: ${idx < nodes.length-1 ? 'Node '+(idx+1) : 'NULL'}</div>`;
                div.innerHTML = html;
                c.appendChild(div);
                
                if(idx < nodes.length-1) {
                    const arrow = document.createElement('div');
                    arrow.className = 'arrow';
                    arrow.textContent = '->';
                    c.appendChild(arrow);
                }
            });
        }

        function add() {
            const v = document.getElementById('val').value;
            if(!v) return;
            
            // Find last node
            let last = nodes[nodes.length-1];
            if(last.length < capacity) {
                last.push(v);
            } else {
                nodes.push([v]);
            }
            render();
            document.getElementById('val').value = '';
        }
        render();
    </script>
</body>
</html>