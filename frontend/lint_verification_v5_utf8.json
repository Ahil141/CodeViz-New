[{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\algorithms\\SortingAlgorithms.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\algorithms\\SortingAlgorithms.tsx:46:9\n  44 |     useEffect(() => {\n  45 |         // eslint-disable-next-line react-hooks/set-state-in-effect\n> 46 |         handleGenerateArray();\n     |         ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  47 |     }, [handleGenerateArray]);\n  48 |\n  49 |     // Playback Logic","line":46,"column":9,"nodeType":null,"endLine":46,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\BaseVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\Controls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\array\\ArrayVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\circularLinkedList\\CircularLinkedListVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\circularQueue\\CircularQueueVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\deque\\DequeVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\doublyLinkedList\\DoublyLinkedListVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\graph\\GraphVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\heap\\HeapVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\linkedList\\SinglyLinkedListVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\queue\\QueueVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\searching\\SearchingVisualizer.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\searching\\SearchingVisualizer.tsx:53:9\n  51 |     useEffect(() => {\n  52 |         // eslint-disable-next-line react-hooks/set-state-in-effect\n> 53 |         handleGenerateArray();\n     |         ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  54 |     }, [handleGenerateArray]);\n  55 |\n  56 |     // Playback Logic","line":53,"column":9,"nodeType":null,"endLine":53,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\sorting\\SortingVisualizer.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\sorting\\SortingVisualizer.tsx:46:9\n  44 |         // Initial random array - safe synchronous update for initialization\n  45 |         // eslint-disable-next-line react-hooks/set-state-in-effect\n> 46 |         handleGenerateArray();\n     |         ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  47 |     }, [handleGenerateArray]);\n  48 |\n  49 |     useEffect(() => {","line":46,"column":9,"nodeType":null,"endLine":46,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\stack\\StackVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\tree\\BinaryTreeVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\editor\\MonacoEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\ChatPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\CodeEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\Visualizer.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\Visualizer.tsx:82:9\n  80 |         const url = URL.createObjectURL(blob);\n  81 |\n> 82 |         setIframeSrc(url);\n     |         ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  83 |\n  84 |         return () => {\n  85 |             URL.revokeObjectURL(url);","line":82,"column":9,"nodeType":null,"endLine":82,"endColumn":21},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'iframeSrc'. Either include it or remove the dependency array.","line":88,"column":8,"nodeType":"ArrayExpression","endLine":88,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [code, iframeSrc]","fix":{"range":[3630,3636],"text":"[code, iframeSrc]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\n\r\ninterface VisualizerProps {\r\n    code: string | null;\r\n    title?: string;\r\n}\r\n\r\nconst Visualizer: React.FC<VisualizerProps> = ({ code, title }) => {\r\n    const [iframeSrc, setIframeSrc] = useState<string>('');\r\n\r\n    // This effect handles the generation of the iframe source whenever the 'code' prop changes.\r\n    useEffect(() => {\r\n        if (!code) {\r\n            // Clear the iframe source if there's no code, and revoke any existing URL.\r\n            if (iframeSrc) {\r\n                URL.revokeObjectURL(iframeSrc);\r\n            }\r\n            // setIframeSrc(''); // Remove synchronous setIframeSrc within effect to avoid cascading renders\r\n            return;\r\n        }\r\n\r\n        // Create a separate document structure if code doesn't have it?\r\n        // The RAG docs we seeded are just the body relevant parts inside markdown blocks.\r\n        // We probably need to strip the markdown blocks if they exist, or the backend does it.\r\n        // The current backend endpoint returns 'visualizer_code' which is the raw content of the doc.\r\n        // The doc content in seed_visualizers.py is:\r\n        // \"Here is ... \\n ```html ... ``` \\n ```css ... ```\"\r\n        // The logic in Chat endpoint `chat.py` extracts code blocks. \r\n        // Our new RAG endpoint returns the raw doc. \r\n        // We should parse it on the frontend OR backend.\r\n        // The user request said: \"It parses the raw string to separate HTML, CSS, and JS [...]\"\r\n\r\n        // Let's implement a simple parser here to construct a full HTML file.\r\n        const constructHtml = (rawCode: string) => {\r\n            // 1. naive check if it's already a full HTML\r\n            if (rawCode.trim().startsWith('<!DOCTYPE html>') || rawCode.trim().startsWith('<html')) {\r\n                return rawCode;\r\n            }\r\n\r\n            // 2. Extract blocks\r\n            const htmlMatch = rawCode.match(/```html\\n([\\s\\S]*?)```/i);\r\n            const cssMatch = rawCode.match(/```css\\n([\\s\\S]*?)```/i);\r\n            const jsMatch = rawCode.match(/```(?:javascript|js)\\n([\\s\\S]*?)```/i);\r\n\r\n            const html = htmlMatch ? htmlMatch[1] : '';\r\n            const css = cssMatch ? cssMatch[1] : '';\r\n            const js = jsMatch ? jsMatch[1] : '';\r\n\r\n            if (!html && !css && !js) {\r\n                // Determine if rawCode is just HTML\r\n                return rawCode;\r\n            }\r\n\r\n            return `\r\n                <!DOCTYPE html>\r\n                <html>\r\n                <head>\r\n                    <style>\r\n                        body { font-family: sans-serif; padding: 10px; }\r\n                        ${css}\r\n                    </style>\r\n                </head>\r\n                <body>\r\n                    ${html}\r\n                    <script>\r\n                        try {\r\n                            ${js}\r\n                        } catch(e) {\r\n                            console.error(\"Visualization Error:\", e);\r\n                            document.body.innerHTML += '<div style=\"color:red\">Runtime Error: ' + e.message + '</div>';\r\n                        }\r\n                    </script>\r\n                </body>\r\n                </html>\r\n            `;\r\n        };\r\n\r\n        const finalHtml = constructHtml(code);\r\n        const blob = new Blob([finalHtml], { type: 'text/html' });\r\n        const url = URL.createObjectURL(blob);\r\n\r\n        setIframeSrc(url);\r\n\r\n        return () => {\r\n            URL.revokeObjectURL(url);\r\n            // setIframeSrc(''); // Avoid synchronous reset in cleanup if not necessary to prevent render loops\r\n        };\r\n    }, [code]);\r\n\r\n    if (!code) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-full bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-10 text-gray-400\">\r\n                <p>Select a data structure to view its visualization.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\r\n            {title && (\r\n                <div className=\"bg-gray-100 px-4 py-2 border-b border-gray-200 font-medium text-gray-700 flex justify-between items-center\">\r\n                    <span>{title}</span>\r\n                </div>\r\n            )}\r\n            <div className=\"flex-1 relative bg-white\">\r\n                <iframe\r\n                    src={iframeSrc}\r\n                    className=\"w-full h-full border-0\"\r\n                    sandbox=\"allow-scripts allow-modals allow-popups allow-forms\"\r\n                    title=\"Data Structure Visualization\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Visualizer;\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\VisualizerPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\chat\\ChatInterface.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\chat\\ChatMessage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\preview\\LivePreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\ui\\Tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\pages\\CodeViz.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\pages\\Home.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\services\\VisualizationController.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":153,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":153,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\services\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
