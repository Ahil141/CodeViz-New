[{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\algorithms\\SortingAlgorithms.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleGenerateArray'. Either include it or remove the dependency array.","line":47,"column":8,"nodeType":"ArrayExpression","endLine":47,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [handleGenerateArray]","fix":{"range":[1793,1795],"text":"[handleGenerateArray]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\BaseVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\Controls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\array\\ArrayVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\circularLinkedList\\CircularLinkedListVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\circularQueue\\CircularQueueVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\deque\\DequeVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\doublyLinkedList\\DoublyLinkedListVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\graph\\GraphVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\heap\\HeapVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\linkedList\\SinglyLinkedListVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\queue\\QueueVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\searching\\SearchingVisualizer.tsx","messages":[{"ruleId":"prefer-const","severity":2,"message":"'newArr' is never reassigned. Use 'const' instead.","line":28,"column":13,"nodeType":"Identifier","messageId":"useConst","endLine":28,"endColumn":19,"fix":{"range":[1151,1233],"text":"const newArr = Array.from({ length: 15 }, () => Math.floor(Math.random() * 99) + 1);"}},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\searching\\SearchingVisualizer.tsx:52:9\n  50 |\n  51 |     useEffect(() => {\n> 52 |         handleGenerateArray();\n     |         ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  53 |     }, [algorithm]);\n  54 |\n  55 |     useEffect(() => {","line":52,"column":9,"nodeType":null,"endLine":52,"endColumn":28},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleGenerateArray'. Either include it or remove the dependency array.","line":53,"column":8,"nodeType":"ArrayExpression","endLine":53,"endColumn":19,"suggestions":[{"desc":"Update the dependencies array to be: [algorithm, handleGenerateArray]","fix":{"range":[1897,1908],"text":"[algorithm, handleGenerateArray]"}}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\searching\\SearchingVisualizer.tsx:62:13\n  60 |             }, 800);\n  61 |         } else if (currentStep >= history.length - 1) {\n> 62 |             setIsPlaying(false);\n     |             ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  63 |         }\n  64 |         return () => {\n  65 |             if (interval) clearInterval(interval);","line":62,"column":13,"nodeType":null,"endLine":62,"endColumn":25}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":1,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { BaseVisualizer } from '../BaseVisualizer';\r\nimport { RotateCcw, Search } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface SearchState {\r\n    array: number[];\r\n    activeIndices: number[]; // Indices currently being checked\r\n    foundIndex: number | null; // index where value was found\r\n    low: number | null; // For Binary Search\r\n    high: number | null; // For Binary Search\r\n    mid: number | null; // For Binary Search\r\n    message: string;\r\n}\r\n\r\nexport const SearchingVisualizer = () => {\r\n    const [history, setHistory] = useState<SearchState[]>([\r\n        { array: [], activeIndices: [], foundIndex: null, low: null, high: null, mid: null, message: 'Start by generating an array.' }\r\n    ]);\r\n    const [currentStep, setCurrentStep] = useState(0);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [algorithm, setAlgorithm] = useState<'linear' | 'binary'>('linear');\r\n    const [targetValue, setTargetValue] = useState('');\r\n\r\n    const currentState = history[currentStep];\r\n\r\n    const handleGenerateArray = () => {\r\n        let newArr = Array.from({ length: 15 }, () => Math.floor(Math.random() * 99) + 1);\r\n        if (algorithm === 'binary') {\r\n            newArr.sort((a, b) => a - b);\r\n        }\r\n        setHistory([{\r\n            array: newArr,\r\n            activeIndices: [],\r\n            foundIndex: null,\r\n            low: null,\r\n            high: null,\r\n            mid: null,\r\n            message: `Generated ${algorithm === 'binary' ? 'sorted' : 'random'} array.`\r\n        }]);\r\n        setCurrentStep(0);\r\n        setIsPlaying(false);\r\n    };\r\n\r\n    const addToHistory = (steps: SearchState[]) => {\r\n        setHistory(steps);\r\n        setCurrentStep(0);\r\n        setIsPlaying(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        handleGenerateArray();\r\n    }, [algorithm]);\r\n\r\n    useEffect(() => {\r\n        let interval: ReturnType<typeof setInterval> | undefined;\r\n        if (isPlaying && currentStep < history.length - 1) {\r\n            interval = setInterval(() => {\r\n                setCurrentStep(prev => prev + 1);\r\n            }, 800);\r\n        } else if (currentStep >= history.length - 1) {\r\n            setIsPlaying(false);\r\n        }\r\n        return () => {\r\n            if (interval) clearInterval(interval);\r\n        };\r\n    }, [isPlaying, currentStep, history.length]);\r\n\r\n    const runLinearSearch = () => {\r\n        const target = parseInt(targetValue);\r\n        if (isNaN(target)) return;\r\n\r\n        const arr = currentState.array;\r\n        const steps: SearchState[] = [];\r\n        let found = false;\r\n\r\n        steps.push({\r\n            array: arr,\r\n            activeIndices: [],\r\n            foundIndex: null,\r\n            low: null, high: null, mid: null,\r\n            message: `Starting Linear Search for ${target}...`\r\n        });\r\n\r\n        for (let i = 0; i < arr.length; i++) {\r\n            steps.push({\r\n                array: arr,\r\n                activeIndices: [i],\r\n                foundIndex: null,\r\n                low: null, high: null, mid: null,\r\n                message: `Checking index ${i} (Value: ${arr[i]})...`\r\n            });\r\n\r\n            if (arr[i] === target) {\r\n                found = true;\r\n                steps.push({\r\n                    array: arr,\r\n                    activeIndices: [i],\r\n                    foundIndex: i,\r\n                    low: null, high: null, mid: null,\r\n                    message: `Found ${target} at index ${i}!`\r\n                });\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (!found) {\r\n            steps.push({\r\n                array: arr,\r\n                activeIndices: [],\r\n                foundIndex: null,\r\n                low: null, high: null, mid: null,\r\n                message: `${target} not found in the array.`\r\n            });\r\n        }\r\n\r\n        addToHistory(steps);\r\n    };\r\n\r\n    const runBinarySearch = () => {\r\n        const target = parseInt(targetValue);\r\n        if (isNaN(target)) return;\r\n\r\n        const arr = currentState.array;\r\n        const steps: SearchState[] = [];\r\n        let low = 0;\r\n        let high = arr.length - 1;\r\n        let found = false;\r\n\r\n        steps.push({\r\n            array: arr,\r\n            activeIndices: [],\r\n            foundIndex: null,\r\n            low: low, high: high, mid: null,\r\n            message: `Starting Binary Search for ${target}...`\r\n        });\r\n\r\n        while (low <= high) {\r\n            const mid = Math.floor((low + high) / 2);\r\n\r\n            steps.push({\r\n                array: arr,\r\n                activeIndices: [mid],\r\n                foundIndex: null,\r\n                low: low, high: high, mid: mid,\r\n                message: `Checking Middle Index ${mid} (Value: ${arr[mid]})...`\r\n            });\r\n\r\n            if (arr[mid] === target) {\r\n                found = true;\r\n                steps.push({\r\n                    array: arr,\r\n                    activeIndices: [mid],\r\n                    foundIndex: mid,\r\n                    low: low, high: high, mid: mid,\r\n                    message: `Found ${target} at index ${mid}!`\r\n                });\r\n                break;\r\n            } else if (arr[mid] < target) {\r\n                steps.push({\r\n                    array: arr,\r\n                    activeIndices: [mid],\r\n                    foundIndex: null,\r\n                    low: low, high: high, mid: mid,\r\n                    message: `${arr[mid]} < ${target}. Ignoring left half.`\r\n                });\r\n                low = mid + 1;\r\n            } else {\r\n                steps.push({\r\n                    array: arr,\r\n                    activeIndices: [mid],\r\n                    foundIndex: null,\r\n                    low: low, high: high, mid: mid,\r\n                    message: `${arr[mid]} > ${target}. Ignoring right half.`\r\n                });\r\n                high = mid - 1;\r\n            }\r\n\r\n            // Show new range\r\n            if (low <= high) {\r\n                steps.push({\r\n                    array: arr,\r\n                    activeIndices: [],\r\n                    foundIndex: null,\r\n                    low: low, high: high, mid: null,\r\n                    message: `New Range: [${low}, ${high}]`\r\n                });\r\n            }\r\n        }\r\n\r\n        if (!found) {\r\n            steps.push({\r\n                array: arr,\r\n                activeIndices: [],\r\n                foundIndex: null,\r\n                low: null, high: null, mid: null,\r\n                message: `${target} not found.`\r\n            });\r\n        }\r\n\r\n        addToHistory(steps);\r\n    };\r\n\r\n    const handleSearch = () => {\r\n        if (algorithm === 'linear') runLinearSearch();\r\n        else runBinarySearch();\r\n    };\r\n\r\n    return (\r\n        <BaseVisualizer\r\n            title=\"Searching Algorithms\"\r\n            description=\"Linear Search vs Binary Search.\"\r\n            currentStep={currentStep}\r\n            totalSteps={history.length}\r\n            isPlaying={isPlaying}\r\n            onPlayPause={() => setIsPlaying(!isPlaying)}\r\n            onNext={() => setCurrentStep(Math.min(currentStep + 1, history.length - 1))}\r\n            onPrev={() => setCurrentStep(Math.max(currentStep - 1, 0))}\r\n            onReset={() => setCurrentStep(0)}\r\n            speed={800}\r\n            onSpeedChange={() => { }}\r\n        >\r\n            <div className=\"flex flex-col items-center gap-6 w-full max-w-4xl\">\r\n                <div className=\"flex items-center gap-2 bg-white p-4 rounded-lg shadow-sm border border-gray-200\">\r\n                    <button onClick={handleGenerateArray} className=\"flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-200 transition-colors\">\r\n                        <RotateCcw className=\"w-3 h-3\" /> Reset\r\n                    </button>\r\n\r\n                    <div className=\"w-px h-8 bg-gray-200 mx-2\"></div>\r\n\r\n                    <select\r\n                        value={algorithm}\r\n                        onChange={(e) => setAlgorithm(e.target.value as 'linear' | 'binary')}\r\n                        className=\"px-2 py-1 border rounded text-sm\"\r\n                    >\r\n                        <option value=\"linear\">Linear Search</option>\r\n                        <option value=\"binary\">Binary Search (Sorted)</option>\r\n                    </select>\r\n\r\n                    <input\r\n                        type=\"number\"\r\n                        value={targetValue}\r\n                        onChange={(e) => setTargetValue(e.target.value)}\r\n                        placeholder=\"Target\"\r\n                        className=\"w-20 px-2 py-1 border rounded text-sm\"\r\n                    />\r\n\r\n                    <button onClick={handleSearch} className=\"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors\">\r\n                        <Search className=\"w-3 h-3\" /> Find\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-center gap-2 flex-wrap w-full bg-gray-50 border rounded-lg p-8 min-h-[200px]\">\r\n                    <AnimatePresence>\r\n                        {currentState?.array.map((val, idx) => {\r\n                            const isActive = currentState.activeIndices.includes(idx);\r\n                            const isFound = currentState.foundIndex === idx;\r\n\r\n                            // Binary search specific styles\r\n                            let isRange = false;\r\n                            if (algorithm === 'binary' && currentState.low !== null && currentState.high !== null) {\r\n                                if (idx >= currentState.low && idx <= currentState.high) {\r\n                                    isRange = true;\r\n                                }\r\n                            }\r\n                            const isMid = currentState.mid === idx;\r\n\r\n                            return (\r\n                                <motion.div\r\n                                    key={idx}\r\n                                    layout\r\n                                    initial={{ scale: 0.8, opacity: 0 }}\r\n                                    animate={{\r\n                                        scale: isFound ? 1.1 : 1,\r\n                                        opacity: algorithm === 'binary' && !isRange && currentState.low !== null ? 0.3 : 1, // Dim items out of range\r\n                                        backgroundColor: isFound ? '#22c55e' : isMid ? '#eab308' : isActive ? '#3b82f6' : '#ffffff',\r\n                                        borderColor: isFound ? '#16a34a' : isMid ? '#ca8a04' : isActive ? '#2563eb' : '#cbd5e1',\r\n                                        color: (isActive || isFound || isMid) ? '#ffffff' : '#1e293b'\r\n                                    }}\r\n                                    className=\"w-10 h-10 flex items-center justify-center rounded border-2 font-bold shadow-sm relative\"\r\n                                >\r\n                                    {val}\r\n                                    <div className=\"absolute -bottom-5 text-[10px] text-gray-400\">\r\n                                        {idx}\r\n                                    </div>\r\n                                    {isMid && algorithm === 'binary' && <div className=\"absolute -top-6 text-[10px] text-yellow-600 font-bold\">MID</div>}\r\n                                    {idx === currentState.low && algorithm === 'binary' && <div className=\"absolute -top-6 text-[10px] text-blue-600 font-bold\">L</div>}\r\n                                    {idx === currentState.high && algorithm === 'binary' && <div className=\"absolute -top-6 text-[10px] text-blue-600 font-bold\">H</div>}\r\n                                </motion.div>\r\n                            );\r\n                        })}\r\n                    </AnimatePresence>\r\n                </div>\r\n            </div>\r\n        </BaseVisualizer>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\sorting\\SortingVisualizer.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\sorting\\SortingVisualizer.tsx:45:9\n  43 |     useEffect(() => {\n  44 |         // Initial random array\n> 45 |         handleGenerateArray();\n     |         ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  46 |     }, []);\n  47 |\n  48 |     useEffect(() => {","line":45,"column":9,"nodeType":null,"endLine":45,"endColumn":28},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\sorting\\SortingVisualizer.tsx:55:13\n  53 |             }, 100); // 100ms for faster sorting viz\n  54 |         } else if (currentStep >= history.length - 1) {\n> 55 |             setIsPlaying(false);\n     |             ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  56 |         }\n  57 |         return () => {\n  58 |             if (interval) clearInterval(interval);","line":55,"column":13,"nodeType":null,"endLine":55,"endColumn":25}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { BaseVisualizer } from '../BaseVisualizer';\r\nimport { Play, RotateCcw } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface SortingState {\r\n    array: number[];\r\n    comparedIndices: number[]; // Indices currently being compared\r\n    swappedIndices: number[]; // Indices just swapped\r\n    sortedIndices: number[]; // Indices that are fully sorted\r\n    message: string;\r\n}\r\n\r\nexport const SortingVisualizer = () => {\r\n    const [history, setHistory] = useState<SortingState[]>([\r\n        { array: [], comparedIndices: [], swappedIndices: [], sortedIndices: [], message: 'Start by generating a random array.' }\r\n    ]);\r\n    const [currentStep, setCurrentStep] = useState(0);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [algorithm, setAlgorithm] = useState<'bubble' | 'selection'>('bubble');\r\n\r\n    const currentState = history[currentStep];\r\n\r\n    const handleGenerateArray = () => {\r\n        const newArr = Array.from({ length: 15 }, () => Math.floor(Math.random() * 80) + 10);\r\n        setHistory([{\r\n            array: newArr,\r\n            comparedIndices: [],\r\n            swappedIndices: [],\r\n            sortedIndices: [],\r\n            message: 'Generated new random array.'\r\n        }]);\r\n        setCurrentStep(0);\r\n        setIsPlaying(false);\r\n    };\r\n\r\n    const addToHistory = (steps: SortingState[]) => {\r\n        setHistory(steps);\r\n        setCurrentStep(0);\r\n        setIsPlaying(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Initial random array\r\n        handleGenerateArray();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        let interval: ReturnType<typeof setInterval> | undefined;\r\n        if (isPlaying && currentStep < history.length - 1) {\r\n            interval = setInterval(() => {\r\n                setCurrentStep(prev => prev + 1);\r\n            }, 100); // 100ms for faster sorting viz\r\n        } else if (currentStep >= history.length - 1) {\r\n            setIsPlaying(false);\r\n        }\r\n        return () => {\r\n            if (interval) clearInterval(interval);\r\n        };\r\n    }, [isPlaying, currentStep, history.length]);\r\n\r\n    const runBubbleSort = () => {\r\n        const arr = [...currentState.array];\r\n        const steps: SortingState[] = [];\r\n\r\n        // Initial state\r\n        steps.push({\r\n            array: [...arr],\r\n            comparedIndices: [],\r\n            swappedIndices: [],\r\n            sortedIndices: [],\r\n            message: 'Starting Bubble Sort...'\r\n        });\r\n\r\n        for (let i = 0; i < arr.length; i++) {\r\n            for (let j = 0; j < arr.length - i - 1; j++) {\r\n                // Compare\r\n                steps.push({\r\n                    array: [...arr],\r\n                    comparedIndices: [j, j + 1],\r\n                    swappedIndices: [],\r\n                    sortedIndices: [...(steps[steps.length - 1]?.sortedIndices || [])],\r\n                    message: `Comparing ${arr[j]} and ${arr[j + 1]}`\r\n                });\r\n\r\n                if (arr[j] > arr[j + 1]) {\r\n                    // Swap\r\n                    [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];\r\n                    steps.push({\r\n                        array: [...arr],\r\n                        comparedIndices: [j, j + 1],\r\n                        swappedIndices: [j, j + 1],\r\n                        sortedIndices: [...(steps[steps.length - 1]?.sortedIndices || [])],\r\n                        message: `Swapped ${arr[j]} and ${arr[j + 1]}`\r\n                    });\r\n                }\r\n            }\r\n            // Mark last element as sorted\r\n            const sorted = [];\r\n            for (let k = 0; k <= i; k++) {\r\n                sorted.push(arr.length - 1 - k);\r\n            }\r\n            steps.push({\r\n                array: [...arr],\r\n                comparedIndices: [],\r\n                swappedIndices: [],\r\n                sortedIndices: sorted,\r\n                message: `${arr[arr.length - 1 - i]} is now in sorted position.`\r\n            });\r\n        }\r\n\r\n        steps.push({\r\n            array: [...arr],\r\n            comparedIndices: [],\r\n            swappedIndices: [],\r\n            sortedIndices: arr.map((_, i) => i),\r\n            message: 'Bubble Sort Complete.'\r\n        });\r\n\r\n        addToHistory(steps);\r\n    };\r\n\r\n    const runSelectionSort = () => {\r\n        const arr = [...currentState.array];\r\n        const steps: SortingState[] = [];\r\n\r\n        steps.push({\r\n            array: [...arr],\r\n            comparedIndices: [],\r\n            swappedIndices: [],\r\n            sortedIndices: [],\r\n            message: 'Starting Selection Sort...'\r\n        });\r\n\r\n        for (let i = 0; i < arr.length; i++) {\r\n            let minIdx = i;\r\n\r\n            for (let j = i + 1; j < arr.length; j++) {\r\n                steps.push({\r\n                    array: [...arr],\r\n                    comparedIndices: [minIdx, j],\r\n                    swappedIndices: [],\r\n                    sortedIndices: Array.from({ length: i }, (_, k) => k),\r\n                    message: `Checking if ${arr[j]} < current min ${arr[minIdx]}`\r\n                });\r\n\r\n                if (arr[j] < arr[minIdx]) {\r\n                    minIdx = j;\r\n                    steps.push({\r\n                        array: [...arr],\r\n                        comparedIndices: [minIdx],\r\n                        swappedIndices: [],\r\n                        sortedIndices: Array.from({ length: i }, (_, k) => k),\r\n                        message: `Found new minimum: ${arr[minIdx]}`\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (minIdx !== i) {\r\n                [arr[i], arr[minIdx]] = [arr[minIdx], arr[i]];\r\n                steps.push({\r\n                    array: [...arr],\r\n                    comparedIndices: [i, minIdx],\r\n                    swappedIndices: [i, minIdx],\r\n                    sortedIndices: Array.from({ length: i }, (_, k) => k),\r\n                    message: `Swapped minimum ${arr[i]} into position ${i}`\r\n                });\r\n            }\r\n\r\n            steps.push({\r\n                array: [...arr],\r\n                comparedIndices: [],\r\n                swappedIndices: [],\r\n                sortedIndices: Array.from({ length: i + 1 }, (_, k) => k),\r\n                message: `Index ${i} is now sorted.`\r\n            });\r\n        }\r\n\r\n        steps.push({\r\n            array: [...arr],\r\n            comparedIndices: [],\r\n            swappedIndices: [],\r\n            sortedIndices: arr.map((_, i) => i),\r\n            message: 'Selection Sort Complete.'\r\n        });\r\n\r\n        addToHistory(steps);\r\n    };\r\n\r\n    const handleSort = () => {\r\n        if (algorithm === 'bubble') runBubbleSort();\r\n        else runSelectionSort();\r\n    };\r\n\r\n    return (\r\n        <BaseVisualizer\r\n            title=\"Sorting Algorithms\"\r\n            description=\"Comparing Bubble Sort and Selection Sort.\"\r\n            currentStep={currentStep}\r\n            totalSteps={history.length}\r\n            isPlaying={isPlaying}\r\n            onPlayPause={() => setIsPlaying(!isPlaying)}\r\n            onNext={() => setCurrentStep(Math.min(currentStep + 1, history.length - 1))}\r\n            onPrev={() => setCurrentStep(Math.max(currentStep - 1, 0))}\r\n            onReset={() => setCurrentStep(0)}\r\n            speed={100}\r\n            onSpeedChange={() => { }}\r\n        >\r\n            <div className=\"flex flex-col items-center gap-6 w-full max-w-4xl\">\r\n                <div className=\"flex items-center gap-2 bg-white p-4 rounded-lg shadow-sm border border-gray-200\">\r\n                    <button onClick={handleGenerateArray} className=\"flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-200 transition-colors\">\r\n                        <RotateCcw className=\"w-3 h-3\" /> Randomize\r\n                    </button>\r\n\r\n                    <div className=\"w-px h-8 bg-gray-200 mx-2\"></div>\r\n\r\n                    <select\r\n                        value={algorithm}\r\n                        onChange={(e) => setAlgorithm(e.target.value as 'bubble' | 'selection')}\r\n                        className=\"px-2 py-1 border rounded text-sm\"\r\n                    >\r\n                        <option value=\"bubble\">Bubble Sort</option>\r\n                        <option value=\"selection\">Selection Sort</option>\r\n                    </select>\r\n\r\n                    <button onClick={handleSort} className=\"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors\">\r\n                        <Play className=\"w-3 h-3\" /> Sort\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"flex items-end justify-center gap-2 h-[300px] w-full bg-gray-50 border rounded-lg p-8\">\r\n                    {currentState?.array.map((val, idx) => {\r\n                        const isCompared = currentState.comparedIndices.includes(idx);\r\n                        const isSwapped = currentState.swappedIndices.includes(idx);\r\n                        const isSorted = currentState.sortedIndices.includes(idx);\r\n\r\n                        return (\r\n                            <motion.div\r\n                                key={idx} // Index key is fine here as we aren't adding/removing, just swapping values\r\n                                layout\r\n                                transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n                                className=\"w-8 rounded-t-md relative group\"\r\n                                style={{\r\n                                    height: `${val * 3}px`,\r\n                                    backgroundColor: isSwapped ? '#ef4444' : isSorted ? '#22c55e' : isCompared ? '#eab308' : '#3b82f6'\r\n                                }}\r\n                            >\r\n                                <span className=\"absolute -top-6 left-1/2 -translate-x-1/2 text-xs text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                    {val}\r\n                                </span>\r\n                            </motion.div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </BaseVisualizer>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\stack\\StackVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\tree\\BinaryTreeVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\editor\\MonacoEditor.tsx","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":20,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":20,"endColumn":22,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[480,493],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Editor, { type OnMount } from '@monaco-editor/react';\r\nimport { useRef } from 'react';\r\n\r\ninterface MonacoEditorProps {\r\n    code: string;\r\n    language: string;\r\n    onChange?: (value: string | undefined) => void;\r\n    readOnly?: boolean;\r\n}\r\n\r\nexport const MonacoEditor = ({\r\n    code,\r\n    language,\r\n    onChange,\r\n    readOnly = false\r\n}: MonacoEditorProps) => {\r\n    const editorRef = useRef(null);\r\n\r\n    const handleEditorDidMount: OnMount = (editor) => {\r\n        // @ts-ignore\r\n        editorRef.current = editor;\r\n    };\r\n\r\n    return (\r\n        <div className=\"h-full w-full overflow-hidden rounded-md border border-gray-700 shadow-inner\">\r\n            <Editor\r\n                height=\"100%\"\r\n                defaultLanguage=\"python\"\r\n                language={language}\r\n                value={code}\r\n                onChange={onChange}\r\n                onMount={handleEditorDidMount}\r\n                theme=\"vs-dark\"\r\n                options={{\r\n                    readOnly: readOnly,\r\n                    minimap: { enabled: false },\r\n                    scrollBeyondLastLine: false,\r\n                    fontSize: 14,\r\n                    wordWrap: 'on',\r\n                    automaticLayout: true,\r\n                    padding: { top: 16 }\r\n                }}\r\n                loading={\r\n                    <div className=\"flex items-center justify-center h-full text-gray-400\">\r\n                        Loading Editor...\r\n                    </div>\r\n                }\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\ChatPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\CodeEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\Visualizer.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\Visualizer.tsx:13:13\n  11 |     useEffect(() => {\n  12 |         if (!code) {\n> 13 |             setIframeSrc('');\n     |             ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  14 |             return;\n  15 |         }\n  16 |","line":13,"column":13,"nodeType":null,"endLine":13,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\n\r\ninterface VisualizerProps {\r\n    code: string | null;\r\n    title?: string;\r\n}\r\n\r\nconst Visualizer: React.FC<VisualizerProps> = ({ code, title }) => {\r\n    const [iframeSrc, setIframeSrc] = useState<string>('');\r\n\r\n    useEffect(() => {\r\n        if (!code) {\r\n            setIframeSrc('');\r\n            return;\r\n        }\r\n\r\n        // Create a separate document structure if code doesn't have it?\r\n        // The RAG docs we seeded are just the body relevant parts inside markdown blocks.\r\n        // We probably need to strip the markdown blocks if they exist, or the backend does it.\r\n        // The current backend endpoint returns 'visualizer_code' which is the raw content of the doc.\r\n        // The doc content in seed_visualizers.py is:\r\n        // \"Here is ... \\n ```html ... ``` \\n ```css ... ```\"\r\n        // The logic in Chat endpoint `chat.py` extracts code blocks. \r\n        // Our new RAG endpoint returns the raw doc. \r\n        // We should parse it on the frontend OR backend.\r\n        // The user request said: \"It parses the raw string to separate HTML, CSS, and JS [...]\"\r\n\r\n        // Let's implement a simple parser here to construct a full HTML file.\r\n        const constructHtml = (rawCode: string) => {\r\n            // 1. naive check if it's already a full HTML\r\n            if (rawCode.trim().startsWith('<!DOCTYPE html>') || rawCode.trim().startsWith('<html')) {\r\n                return rawCode;\r\n            }\r\n\r\n            // 2. Extract blocks\r\n            const htmlMatch = rawCode.match(/```html\\n([\\s\\S]*?)```/i);\r\n            const cssMatch = rawCode.match(/```css\\n([\\s\\S]*?)```/i);\r\n            const jsMatch = rawCode.match(/```(?:javascript|js)\\n([\\s\\S]*?)```/i);\r\n\r\n            const html = htmlMatch ? htmlMatch[1] : '';\r\n            const css = cssMatch ? cssMatch[1] : '';\r\n            const js = jsMatch ? jsMatch[1] : '';\r\n\r\n            if (!html && !css && !js) {\r\n                // Determine if rawCode is just HTML\r\n                return rawCode;\r\n            }\r\n\r\n            return `\r\n                <!DOCTYPE html>\r\n                <html>\r\n                <head>\r\n                    <style>\r\n                        body { font-family: sans-serif; padding: 10px; }\r\n                        ${css}\r\n                    </style>\r\n                </head>\r\n                <body>\r\n                    ${html}\r\n                    <script>\r\n                        try {\r\n                            ${js}\r\n                        } catch(e) {\r\n                            console.error(\"Visualization Error:\", e);\r\n                            document.body.innerHTML += '<div style=\"color:red\">Runtime Error: ' + e.message + '</div>';\r\n                        }\r\n                    </script>\r\n                </body>\r\n                </html>\r\n            `;\r\n        };\r\n\r\n        const finalHtml = constructHtml(code);\r\n        const blob = new Blob([finalHtml], { type: 'text/html' });\r\n        const url = URL.createObjectURL(blob);\r\n        setIframeSrc(url);\r\n\r\n        return () => {\r\n            URL.revokeObjectURL(url);\r\n        };\r\n    }, [code]);\r\n\r\n    if (!code) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-full bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-10 text-gray-400\">\r\n                <p>Select a data structure to view its visualization.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\r\n            {title && (\r\n                <div className=\"bg-gray-100 px-4 py-2 border-b border-gray-200 font-medium text-gray-700 flex justify-between items-center\">\r\n                    <span>{title}</span>\r\n                </div>\r\n            )}\r\n            <div className=\"flex-1 relative bg-white\">\r\n                <iframe\r\n                    src={iframeSrc}\r\n                    className=\"w-full h-full border-0\"\r\n                    sandbox=\"allow-scripts allow-modals allow-popups allow-forms\"\r\n                    title=\"Data Structure Visualization\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Visualizer;\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\VisualizerPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\chat\\ChatInterface.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\chat\\ChatMessage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\preview\\LivePreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\ui\\Tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\pages\\CodeViz.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\pages\\Home.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\services\\VisualizationController.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":152,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":152,"endColumn":30}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useState, type ReactNode } from 'react';\r\n\r\ntype Tab = 'chat' | 'editor' | 'visualizer';\r\n\r\ninterface CodeBlock {\r\n    language: string;\r\n    code: string;\r\n}\r\n\r\ninterface BackendResponse {\r\n    code_blocks?: CodeBlock[];\r\n    code?: string;\r\n    visualization_type?: string;\r\n    implementation_code?: {\r\n        code: string;\r\n    };\r\n}\r\n\r\ninterface VisualizationContextType {\r\n    activeTab: Tab;\r\n    setActiveTab: (tab: Tab) => void;\r\n    visualizationType: string | null;\r\n    setVisualizationType: (type: string | null) => void;\r\n    code: string;\r\n    setCode: (code: string) => void;\r\n    processBackendResponse: (data: BackendResponse) => void;\r\n    error: string | null;\r\n    setError: (error: string | null) => void;\r\n    output: string | null;\r\n    setOutput: (output: string | null) => void;\r\n    implementationCode: string | null;\r\n    setImplementationCode: (code: string | null) => void;\r\n}\r\n\r\nconst VisualizationContext = createContext<VisualizationContextType | undefined>(undefined);\r\n\r\nexport const VisualizationProvider = ({ children }: { children: ReactNode }) => {\r\n    const [activeTab, setActiveTab] = useState<Tab>('chat');\r\n    const [visualizationType, setVisualizationType] = useState<string | null>(null);\r\n    const [code, setCode] = useState<string>('// Start coding or ask the AI to generate code...');\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [output, setOutput] = useState<string | null>(null);\r\n    const [implementationCode, setImplementationCode] = useState<string | null>(null);\r\n\r\n    const processBackendResponse = (data: BackendResponse) => {\r\n        try {\r\n            console.log(\"DEBUG: processBackendResponse received:\", JSON.stringify(data, null, 2));\r\n\r\n            // 1. Handle Code\r\n\r\n            // 1. Handle Code\r\n            if (data.code_blocks && data.code_blocks.length > 0) {\r\n                // Check if we have HTML/CSS/JS blocks\r\n                let html = '';\r\n                let css = '';\r\n                let js = '';\r\n                let hasWebCode = false;\r\n\r\n                data.code_blocks.forEach((block: CodeBlock) => {\r\n                    const lang = block.language.toLowerCase();\r\n                    if (lang === 'html') { html = block.code; hasWebCode = true; }\r\n                    else if (lang === 'css') { css = block.code; hasWebCode = true; }\r\n                    else if (lang === 'javascript' || lang === 'js') { js = block.code; hasWebCode = true; }\r\n                });\r\n\r\n\r\n                if (hasWebCode) {\r\n                    // Assemble into a single HTML string for LivePreview\r\n                    const assembledCode = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<style>\r\n${css}\r\n</style>\r\n</head>\r\n<body>\r\n${html}\r\n<script>\r\n${js}\r\n</script>\r\n</body>\r\n</html>`;\r\n                    setCode(assembledCode.trim());\r\n\r\n                    // Force switch to visualizer if logic is missing from backend response (double safety)\r\n                    if (!data.visualization_type || data.visualization_type === 'none') {\r\n                        setVisualizationType('html');\r\n                        setActiveTab('visualizer');\r\n                    }\r\n                } else {\r\n                    // Fallback to simple join for other languages (e.g. Python)\r\n                    const combinedCode = data.code_blocks.map((block: CodeBlock) =>\r\n                        `// [${block.language.toUpperCase()}]\\n${block.code}`\r\n                    ).join('\\n\\n');\r\n                    setCode(combinedCode);\r\n                }\r\n            }\r\n            else if (data.code) {\r\n                setCode(data.code);\r\n            }\r\n\r\n\r\n\r\n            // 2. Handle Visualization\r\n            if (data.visualization_type && data.visualization_type !== 'none') {\r\n                setVisualizationType(data.visualization_type);\r\n                setActiveTab('visualizer');\r\n            } else if (data.code && (!data.visualization_type || data.visualization_type === 'none')) {\r\n                // If only code is returned, maybe switch to editor?\r\n                // User might prefer to stay in chat, so let's check\r\n                // For now, let's keep user in current tab unless explicit visualizer\r\n            }\r\n\r\n            // 3. Handle Implementation Code (New Feature)\r\n            if (data.implementation_code && data.implementation_code.code) {\r\n                setImplementationCode(data.implementation_code.code);\r\n            } else {\r\n                setImplementationCode(null);\r\n            }\r\n\r\n            // 4. Clear errors if successful\r\n            setError(null);\r\n\r\n        } catch (err) {\r\n            console.error(\"Error processing backend response:\", err);\r\n            setError(\"Failed to process the response. Please try again.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <VisualizationContext.Provider value={{\r\n            activeTab,\r\n            setActiveTab,\r\n            visualizationType,\r\n            setVisualizationType,\r\n            code,\r\n            setCode,\r\n            processBackendResponse,\r\n            error,\r\n            setError,\r\n            output,\r\n            setOutput,\r\n            implementationCode,\r\n            setImplementationCode\r\n        }}>\r\n            {children}\r\n        </VisualizationContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useVisualization = () => {\r\n    const context = useContext(VisualizationContext);\r\n    if (context === undefined) {\r\n        throw new Error('useVisualization must be used within a VisualizationProvider');\r\n    }\r\n    return context;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\services\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\types\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[501,504],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[501,504],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export type Role = 'user' | 'assistant';\r\n\r\nexport interface Message {\r\n    id: string;\r\n    role: Role;\r\n    content: string;\r\n    timestamp: number;\r\n}\r\n\r\nexport type VisualizationType = 'none' | 'html' | 'data_structure' | 'algorithm';\r\n\r\nexport interface CodeBlock {\r\n    language: string;\r\n    code: string;\r\n    title?: string;\r\n}\r\n\r\nexport interface ChatResponse {\r\n    text_response: string;\r\n    visualization_type: VisualizationType;\r\n    code_blocks: CodeBlock[];\r\n    visualization_data?: any;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
