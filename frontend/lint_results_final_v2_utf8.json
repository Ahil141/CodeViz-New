[{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\algorithms\\SortingAlgorithms.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleGenerateArray'. Either include it or remove the dependency array.","line":47,"column":8,"nodeType":"ArrayExpression","endLine":47,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [handleGenerateArray]","fix":{"range":[1793,1795],"text":"[handleGenerateArray]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\BaseVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\Controls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\array\\ArrayVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\circularLinkedList\\CircularLinkedListVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\circularQueue\\CircularQueueVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\deque\\DequeVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\doublyLinkedList\\DoublyLinkedListVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\graph\\GraphVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\heap\\HeapVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\linkedList\\SinglyLinkedListVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\queue\\QueueVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\searching\\SearchingVisualizer.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleGenerateArray'. Either include it or remove the dependency array.","line":54,"column":8,"nodeType":"ArrayExpression","endLine":54,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [handleGenerateArray]","fix":{"range":[1964,1966],"text":"[handleGenerateArray]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\sorting\\SortingVisualizer.tsx","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'react-hooks/exhaustive-deps').","line":46,"column":9,"severity":1,"nodeType":null,"fix":{"range":[1609,1664],"text":" "}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { useState, useEffect } from 'react';\r\nimport { BaseVisualizer } from '../BaseVisualizer';\r\nimport { Play, RotateCcw } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface SortingState {\r\n    array: number[];\r\n    comparedIndices: number[]; // Indices currently being compared\r\n    swappedIndices: number[]; // Indices just swapped\r\n    sortedIndices: number[]; // Indices that are fully sorted\r\n    message: string;\r\n}\r\n\r\nexport const SortingVisualizer = () => {\r\n    const [history, setHistory] = useState<SortingState[]>([\r\n        { array: [], comparedIndices: [], swappedIndices: [], sortedIndices: [], message: 'Start by generating a random array.' }\r\n    ]);\r\n    const [currentStep, setCurrentStep] = useState(0);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [algorithm, setAlgorithm] = useState<'bubble' | 'selection'>('bubble');\r\n\r\n    const currentState = history[currentStep];\r\n\r\n    const handleGenerateArray = () => {\r\n        const newArr = Array.from({ length: 15 }, () => Math.floor(Math.random() * 80) + 10);\r\n        setHistory([{\r\n            array: newArr,\r\n            comparedIndices: [],\r\n            swappedIndices: [],\r\n            sortedIndices: [],\r\n            message: 'Generated new random array.'\r\n        }]);\r\n        setCurrentStep(0);\r\n        setIsPlaying(false);\r\n    };\r\n\r\n    const addToHistory = (steps: SortingState[]) => {\r\n        setHistory(steps);\r\n        setCurrentStep(0);\r\n        setIsPlaying(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Initial random array\r\n        handleGenerateArray();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!isPlaying) return;\r\n\r\n        const interval = setInterval(() => {\r\n            setCurrentStep(prev => {\r\n                if (prev >= history.length - 1) {\r\n                    setIsPlaying(false);\r\n                    return prev;\r\n                }\r\n                const next = prev + 1;\r\n                if (next >= history.length - 1) {\r\n                    setIsPlaying(false);\r\n                }\r\n                return next;\r\n            });\r\n        }, 100); // 100ms for faster sorting viz\r\n\r\n        return () => clearInterval(interval);\r\n    }, [isPlaying, history.length]);\r\n\r\n    const runBubbleSort = () => {\r\n        const arr = [...currentState.array];\r\n        const steps: SortingState[] = [];\r\n\r\n        // Initial state\r\n        steps.push({\r\n            array: [...arr],\r\n            comparedIndices: [],\r\n            swappedIndices: [],\r\n            sortedIndices: [],\r\n            message: 'Starting Bubble Sort...'\r\n        });\r\n\r\n        for (let i = 0; i < arr.length; i++) {\r\n            for (let j = 0; j < arr.length - i - 1; j++) {\r\n                // Compare\r\n                steps.push({\r\n                    array: [...arr],\r\n                    comparedIndices: [j, j + 1],\r\n                    swappedIndices: [],\r\n                    sortedIndices: [...(steps[steps.length - 1]?.sortedIndices || [])],\r\n                    message: `Comparing ${arr[j]} and ${arr[j + 1]}`\r\n                });\r\n\r\n                if (arr[j] > arr[j + 1]) {\r\n                    // Swap\r\n                    [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];\r\n                    steps.push({\r\n                        array: [...arr],\r\n                        comparedIndices: [j, j + 1],\r\n                        swappedIndices: [j, j + 1],\r\n                        sortedIndices: [...(steps[steps.length - 1]?.sortedIndices || [])],\r\n                        message: `Swapped ${arr[j]} and ${arr[j + 1]}`\r\n                    });\r\n                }\r\n            }\r\n            // Mark last element as sorted\r\n            const sorted = [];\r\n            for (let k = 0; k <= i; k++) {\r\n                sorted.push(arr.length - 1 - k);\r\n            }\r\n            steps.push({\r\n                array: [...arr],\r\n                comparedIndices: [],\r\n                swappedIndices: [],\r\n                sortedIndices: sorted,\r\n                message: `${arr[arr.length - 1 - i]} is now in sorted position.`\r\n            });\r\n        }\r\n\r\n        steps.push({\r\n            array: [...arr],\r\n            comparedIndices: [],\r\n            swappedIndices: [],\r\n            sortedIndices: arr.map((_, i) => i),\r\n            message: 'Bubble Sort Complete.'\r\n        });\r\n\r\n        addToHistory(steps);\r\n    };\r\n\r\n    const runSelectionSort = () => {\r\n        const arr = [...currentState.array];\r\n        const steps: SortingState[] = [];\r\n\r\n        steps.push({\r\n            array: [...arr],\r\n            comparedIndices: [],\r\n            swappedIndices: [],\r\n            sortedIndices: [],\r\n            message: 'Starting Selection Sort...'\r\n        });\r\n\r\n        for (let i = 0; i < arr.length; i++) {\r\n            let minIdx = i;\r\n\r\n            for (let j = i + 1; j < arr.length; j++) {\r\n                steps.push({\r\n                    array: [...arr],\r\n                    comparedIndices: [minIdx, j],\r\n                    swappedIndices: [],\r\n                    sortedIndices: Array.from({ length: i }, (_, k) => k),\r\n                    message: `Checking if ${arr[j]} < current min ${arr[minIdx]}`\r\n                });\r\n\r\n                if (arr[j] < arr[minIdx]) {\r\n                    minIdx = j;\r\n                    steps.push({\r\n                        array: [...arr],\r\n                        comparedIndices: [minIdx],\r\n                        swappedIndices: [],\r\n                        sortedIndices: Array.from({ length: i }, (_, k) => k),\r\n                        message: `Found new minimum: ${arr[minIdx]}`\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (minIdx !== i) {\r\n                [arr[i], arr[minIdx]] = [arr[minIdx], arr[i]];\r\n                steps.push({\r\n                    array: [...arr],\r\n                    comparedIndices: [i, minIdx],\r\n                    swappedIndices: [i, minIdx],\r\n                    sortedIndices: Array.from({ length: i }, (_, k) => k),\r\n                    message: `Swapped minimum ${arr[i]} into position ${i}`\r\n                });\r\n            }\r\n\r\n            steps.push({\r\n                array: [...arr],\r\n                comparedIndices: [],\r\n                swappedIndices: [],\r\n                sortedIndices: Array.from({ length: i + 1 }, (_, k) => k),\r\n                message: `Index ${i} is now sorted.`\r\n            });\r\n        }\r\n\r\n        steps.push({\r\n            array: [...arr],\r\n            comparedIndices: [],\r\n            swappedIndices: [],\r\n            sortedIndices: arr.map((_, i) => i),\r\n            message: 'Selection Sort Complete.'\r\n        });\r\n\r\n        addToHistory(steps);\r\n    };\r\n\r\n    const handleSort = () => {\r\n        if (algorithm === 'bubble') runBubbleSort();\r\n        else runSelectionSort();\r\n    };\r\n\r\n    return (\r\n        <BaseVisualizer\r\n            title=\"Sorting Algorithms\"\r\n            description=\"Comparing Bubble Sort and Selection Sort.\"\r\n            currentStep={currentStep}\r\n            totalSteps={history.length}\r\n            isPlaying={isPlaying}\r\n            onPlayPause={() => setIsPlaying(!isPlaying)}\r\n            onNext={() => setCurrentStep(Math.min(currentStep + 1, history.length - 1))}\r\n            onPrev={() => setCurrentStep(Math.max(currentStep - 1, 0))}\r\n            onReset={() => setCurrentStep(0)}\r\n            speed={100}\r\n            onSpeedChange={() => { }}\r\n        >\r\n            <div className=\"flex flex-col items-center gap-6 w-full max-w-4xl\">\r\n                <div className=\"flex items-center gap-2 bg-white p-4 rounded-lg shadow-sm border border-gray-200\">\r\n                    <button onClick={handleGenerateArray} className=\"flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-200 transition-colors\">\r\n                        <RotateCcw className=\"w-3 h-3\" /> Randomize\r\n                    </button>\r\n\r\n                    <div className=\"w-px h-8 bg-gray-200 mx-2\"></div>\r\n\r\n                    <select\r\n                        value={algorithm}\r\n                        onChange={(e) => setAlgorithm(e.target.value as 'bubble' | 'selection')}\r\n                        className=\"px-2 py-1 border rounded text-sm\"\r\n                    >\r\n                        <option value=\"bubble\">Bubble Sort</option>\r\n                        <option value=\"selection\">Selection Sort</option>\r\n                    </select>\r\n\r\n                    <button onClick={handleSort} className=\"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors\">\r\n                        <Play className=\"w-3 h-3\" /> Sort\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"flex items-end justify-center gap-2 h-[300px] w-full bg-gray-50 border rounded-lg p-8\">\r\n                    {currentState?.array.map((val, idx) => {\r\n                        const isCompared = currentState.comparedIndices.includes(idx);\r\n                        const isSwapped = currentState.swappedIndices.includes(idx);\r\n                        const isSorted = currentState.sortedIndices.includes(idx);\r\n\r\n                        return (\r\n                            <motion.div\r\n                                key={idx} // Index key is fine here as we aren't adding/removing, just swapping values\r\n                                layout\r\n                                transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n                                className=\"w-8 rounded-t-md relative group\"\r\n                                style={{\r\n                                    height: `${val * 3}px`,\r\n                                    backgroundColor: isSwapped ? '#ef4444' : isSorted ? '#22c55e' : isCompared ? '#eab308' : '#3b82f6'\r\n                                }}\r\n                            >\r\n                                <span className=\"absolute -top-6 left-1/2 -translate-x-1/2 text-xs text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                    {val}\r\n                                </span>\r\n                            </motion.div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </BaseVisualizer>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\stack\\StackVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\dataStructures\\tree\\BinaryTreeVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\editor\\MonacoEditor.tsx","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Include a description after the \"@ts-expect-error\" directive to explain why the @ts-expect-error is necessary. The description must be 3 characters or longer.","line":20,"column":9,"nodeType":"Line","messageId":"tsDirectiveCommentRequiresDescription","endLine":20,"endColumn":28}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Editor, { type OnMount } from '@monaco-editor/react';\r\nimport { useRef } from 'react';\r\n\r\ninterface MonacoEditorProps {\r\n    code: string;\r\n    language: string;\r\n    onChange?: (value: string | undefined) => void;\r\n    readOnly?: boolean;\r\n}\r\n\r\nexport const MonacoEditor = ({\r\n    code,\r\n    language,\r\n    onChange,\r\n    readOnly = false\r\n}: MonacoEditorProps) => {\r\n    const editorRef = useRef(null);\r\n\r\n    const handleEditorDidMount: OnMount = (editor) => {\r\n        // @ts-expect-error\r\n        editorRef.current = editor;\r\n    };\r\n\r\n    return (\r\n        <div className=\"h-full w-full overflow-hidden rounded-md border border-gray-700 shadow-inner\">\r\n            <Editor\r\n                height=\"100%\"\r\n                defaultLanguage=\"python\"\r\n                language={language}\r\n                value={code}\r\n                onChange={onChange}\r\n                onMount={handleEditorDidMount}\r\n                theme=\"vs-dark\"\r\n                options={{\r\n                    readOnly: readOnly,\r\n                    minimap: { enabled: false },\r\n                    scrollBeyondLastLine: false,\r\n                    fontSize: 14,\r\n                    wordWrap: 'on',\r\n                    automaticLayout: true,\r\n                    padding: { top: 16 }\r\n                }}\r\n                loading={\r\n                    <div className=\"flex items-center justify-center h-full text-gray-400\">\r\n                        Loading Editor...\r\n                    </div>\r\n                }\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\ChatPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\CodeEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\Visualizer.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\Visualizer.tsx:13:35\n  11 |     useEffect(() => {\n  12 |         if (!code) {\n> 13 |             if (iframeSrc !== '') setIframeSrc('');\n     |                                   ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  14 |             return;\n  15 |         }\n  16 |","line":13,"column":35,"nodeType":null,"endLine":13,"endColumn":47},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'iframeSrc'. Either include it or remove the dependency array.","line":81,"column":8,"nodeType":"ArrayExpression","endLine":81,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [code, iframeSrc]","fix":{"range":[3177,3183],"text":"[code, iframeSrc]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\n\r\ninterface VisualizerProps {\r\n    code: string | null;\r\n    title?: string;\r\n}\r\n\r\nconst Visualizer: React.FC<VisualizerProps> = ({ code, title }) => {\r\n    const [iframeSrc, setIframeSrc] = useState<string>('');\r\n\r\n    useEffect(() => {\r\n        if (!code) {\r\n            if (iframeSrc !== '') setIframeSrc('');\r\n            return;\r\n        }\r\n\r\n        // Create a separate document structure if code doesn't have it?\r\n        // The RAG docs we seeded are just the body relevant parts inside markdown blocks.\r\n        // We probably need to strip the markdown blocks if they exist, or the backend does it.\r\n        // The current backend endpoint returns 'visualizer_code' which is the raw content of the doc.\r\n        // The doc content in seed_visualizers.py is:\r\n        // \"Here is ... \\n ```html ... ``` \\n ```css ... ```\"\r\n        // The logic in Chat endpoint `chat.py` extracts code blocks. \r\n        // Our new RAG endpoint returns the raw doc. \r\n        // We should parse it on the frontend OR backend.\r\n        // The user request said: \"It parses the raw string to separate HTML, CSS, and JS [...]\"\r\n\r\n        // Let's implement a simple parser here to construct a full HTML file.\r\n        const constructHtml = (rawCode: string) => {\r\n            // 1. naive check if it's already a full HTML\r\n            if (rawCode.trim().startsWith('<!DOCTYPE html>') || rawCode.trim().startsWith('<html')) {\r\n                return rawCode;\r\n            }\r\n\r\n            // 2. Extract blocks\r\n            const htmlMatch = rawCode.match(/```html\\n([\\s\\S]*?)```/i);\r\n            const cssMatch = rawCode.match(/```css\\n([\\s\\S]*?)```/i);\r\n            const jsMatch = rawCode.match(/```(?:javascript|js)\\n([\\s\\S]*?)```/i);\r\n\r\n            const html = htmlMatch ? htmlMatch[1] : '';\r\n            const css = cssMatch ? cssMatch[1] : '';\r\n            const js = jsMatch ? jsMatch[1] : '';\r\n\r\n            if (!html && !css && !js) {\r\n                // Determine if rawCode is just HTML\r\n                return rawCode;\r\n            }\r\n\r\n            return `\r\n                <!DOCTYPE html>\r\n                <html>\r\n                <head>\r\n                    <style>\r\n                        body { font-family: sans-serif; padding: 10px; }\r\n                        ${css}\r\n                    </style>\r\n                </head>\r\n                <body>\r\n                    ${html}\r\n                    <script>\r\n                        try {\r\n                            ${js}\r\n                        } catch(e) {\r\n                            console.error(\"Visualization Error:\", e);\r\n                            document.body.innerHTML += '<div style=\"color:red\">Runtime Error: ' + e.message + '</div>';\r\n                        }\r\n                    </script>\r\n                </body>\r\n                </html>\r\n            `;\r\n        };\r\n\r\n        const finalHtml = constructHtml(code);\r\n        const blob = new Blob([finalHtml], { type: 'text/html' });\r\n        const url = URL.createObjectURL(blob);\r\n        setIframeSrc(url);\r\n\r\n        return () => {\r\n            URL.revokeObjectURL(url);\r\n        };\r\n    }, [code]);\r\n\r\n    if (!code) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-full bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-10 text-gray-400\">\r\n                <p>Select a data structure to view its visualization.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\r\n            {title && (\r\n                <div className=\"bg-gray-100 px-4 py-2 border-b border-gray-200 font-medium text-gray-700 flex justify-between items-center\">\r\n                    <span>{title}</span>\r\n                </div>\r\n            )}\r\n            <div className=\"flex-1 relative bg-white\">\r\n                <iframe\r\n                    src={iframeSrc}\r\n                    className=\"w-full h-full border-0\"\r\n                    sandbox=\"allow-scripts allow-modals allow-popups allow-forms\"\r\n                    title=\"Data Structure Visualization\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Visualizer;\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\VisualizerPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\chat\\ChatInterface.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\features\\chat\\ChatMessage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\preview\\LivePreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\components\\ui\\Tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\pages\\CodeViz.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\pages\\Home.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\services\\VisualizationController.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":153,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":153,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\services\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\FINAL-YEAR-PROJECT\\CODEVIZ-2.0\\frontend\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
